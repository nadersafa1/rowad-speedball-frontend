{
  "openapi": "3.0.1",
  "info": {
    "title": "Rowad Speedball API",
    "description": "API documentation for Rowad Speedball tournament management system. This API provides endpoints for managing events, players, matches, groups, registrations, results, sets, tests, coaches, organizations, users, and training sessions.",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "Authentication",
      "description": "Authentication endpoints using better-auth (cookie-based sessions)"
    },
    {
      "name": "Events",
      "description": "Event management endpoints"
    },
    {
      "name": "Players",
      "description": "Player management endpoints"
    },
    {
      "name": "Coaches",
      "description": "Coach management endpoints"
    },
    {
      "name": "Organizations",
      "description": "Organization management endpoints"
    },
    {
      "name": "Users",
      "description": "User management endpoints"
    },
    {
      "name": "Training Sessions",
      "description": "Training session management endpoints"
    },
    {
      "name": "Matches",
      "description": "Match management endpoints"
    },
    {
      "name": "Groups",
      "description": "Group management endpoints"
    },
    {
      "name": "Registrations",
      "description": "Registration management endpoints"
    },
    {
      "name": "Results",
      "description": "Test result management endpoints"
    },
    {
      "name": "Tests",
      "description": "Test management endpoints"
    },
    {
      "name": "Sets",
      "description": "Set management endpoints"
    }
  ],
  "paths": {
    "/api/auth/sign-in/email": {
      "post": {
        "tags": ["Authentication"],
        "summary": "POST /api/auth/sign-in/email",
        "description": "Sign in with email and password. This endpoint uses cookie-based authentication. After successful login, cookies are automatically set and will be included in subsequent requests.",
        "parameters": [
          {
            "name": "Origin",
            "in": "header",
            "description": "Origin header",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "http://localhost:3000"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User email address"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "description": "User password (minimum 8 characters)"
                  }
                }
              },
              "example": {
                "email": "cap.nader@gmail.com",
                "password": "Test@1234"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful. Cookies are automatically set.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/User"
                    },
                    "session": {
                      "$ref": "#/components/schemas/Session"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid credentials or validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/sign-up/email": {
      "post": {
        "tags": ["Authentication"],
        "summary": "POST /api/auth/sign-up/email",
        "description": "Sign up with email and password. Email verification is required before the account can be fully activated.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8
                  },
                  "name": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or user already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/session": {
      "get": {
        "tags": ["Authentication"],
        "summary": "GET /api/auth/session",
        "description": "Get current session information. Requires authentication cookies.",
        "responses": {
          "200": {
            "description": "Current session information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "session": {
                      "$ref": "#/components/schemas/Session"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No active session",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "session": {
                      "type": "null"
                    },
                    "user": {
                      "type": "null"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/sign-out": {
      "post": {
        "tags": ["Authentication"],
        "summary": "POST /api/auth/sign-out",
        "description": "Sign out and clear session cookies",
        "responses": {
          "200": {
            "description": "Successfully signed out",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/coaches": {
      "get": {
        "tags": ["Coaches"],
        "summary": "GET /api/v1/coaches",
        "description": "Get list of coaches with filtering and pagination. Requires authentication.",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query for coach name",
            "required": false,
            "schema": {
              "type": "string",
              "maxLength": 20
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "Filter by gender",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["male", "female", "all"]
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sort field",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "nameRtl",
                "gender",
                "createdAt",
                "updatedAt",
                "organizationId"
              ]
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"],
              "default": "desc"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "10"
            }
          },
          {
            "name": "unassigned",
            "in": "query",
            "description": "Filter unassigned coaches (organizationId IS NULL)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "organizationId",
            "in": "query",
            "description": "Filter by organization ID (use 'null' for coaches without organization)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of coaches with pagination and stats",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CoachesPaginatedResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Coaches"],
        "summary": "POST /api/v1/coaches",
        "description": "Create a new coach. Only system admins, org admins, and org owners can create coaches.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoachCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Coach created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Coach"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/coaches/{id}": {
      "get": {
        "tags": ["Coaches"],
        "summary": "GET /api/v1/coaches/{id}",
        "description": "Get coach by ID with related training sessions. Requires authentication.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Coach details with training sessions",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Coach"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "trainingSessions": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TrainingSession"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Coach not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Coaches"],
        "summary": "PATCH /api/v1/coaches/{id}",
        "description": "Update coach. Only system admins, org admins, and org owners can update coaches.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CoachUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Coach updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Coach"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Coach not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Coaches"],
        "summary": "DELETE /api/v1/coaches/{id}",
        "description": "Delete coach. Only system admins, org admins, and org owners can delete coaches.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Coach deleted successfully"
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Coach not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/organizations": {
      "get": {
        "tags": ["Organizations"],
        "summary": "GET /api/v1/organizations",
        "description": "Get list of organizations. Public endpoint - anyone can see available clubs.",
        "responses": {
          "200": {
            "description": "List of organizations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Organization"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Organizations"],
        "summary": "POST /api/v1/organizations",
        "description": "Create a new organization. Only system admin can create organizations.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrganizationCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Organization created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Organization"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "members": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Member"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body or organization already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - System admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/organizations/{id}/members": {
      "post": {
        "tags": ["Organizations"],
        "summary": "POST /api/v1/organizations/{id}/members",
        "description": "Add a member to an organization. System admin can add to any org, org admin/owner/coach can only add to their org.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["userId", "role"],
                "properties": {
                  "userId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "role": {
                    "type": "string",
                    "enum": ["owner", "admin", "coach", "member", "player"]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Member added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or user already in organization",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Organization or user not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users": {
      "get": {
        "tags": ["Users"],
        "summary": "GET /api/v1/users",
        "description": "Get list of users with filtering and pagination. Only system admins, org admins, and org coaches can list users.",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query for user name or email",
            "required": false,
            "schema": {
              "type": "string",
              "maxLength": 50
            }
          },
          {
            "name": "role",
            "in": "query",
            "description": "Filter by role",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["admin", "user"]
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sort field",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["name", "email", "createdAt", "updatedAt"]
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"],
              "default": "desc"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "10"
            }
          },
          {
            "name": "unassigned",
            "in": "query",
            "description": "Filter unassigned users (users with no linked players/coaches AND no organization membership)",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of users with pagination",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsersPaginatedResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": ["Users"],
        "summary": "GET /api/v1/users/me",
        "description": "Get current user profile with linked player and coach data. Requires authentication.",
        "responses": {
          "200": {
            "description": "Current user profile",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/User"
                    },
                    "player": {
                      "oneOf": [
                        {
                          "$ref": "#/components/schemas/Player"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "coach": {
                      "oneOf": [
                        {
                          "$ref": "#/components/schemas/Coach"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/organization-context": {
      "get": {
        "tags": ["Users"],
        "summary": "GET /api/v1/users/me/organization-context",
        "description": "Get current user's organization context. Requires authentication.",
        "responses": {
          "200": {
            "description": "Organization context",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "isAuthenticated": {
                      "type": "boolean"
                    },
                    "isSystemAdmin": {
                      "type": "boolean"
                    },
                    "organization": {
                      "oneOf": [
                        {
                          "$ref": "#/components/schemas/Organization"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "activeOrgId": {
                      "oneOf": [
                        {
                          "type": "string",
                          "format": "uuid"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/memberships": {
      "get": {
        "tags": ["Users"],
        "summary": "GET /api/v1/users/me/memberships",
        "description": "Get current user's organization memberships. Requires authentication.",
        "responses": {
          "200": {
            "description": "List of memberships",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/Member"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "organization": {
                            "$ref": "#/components/schemas/Organization"
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/player": {
      "patch": {
        "tags": ["Users"],
        "summary": "PATCH /api/v1/users/me/player",
        "description": "Update current user's linked player profile. Requires authentication and linked player record.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                  },
                  "preferredHand": {
                    "type": "string",
                    "enum": ["left", "right", "both"]
                  },
                  "teamLevel": {
                    "type": "string",
                    "enum": ["team_a", "team_b", "team_c"]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Player updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Player"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "No linked player record found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/coach": {
      "patch": {
        "tags": ["Users"],
        "summary": "PATCH /api/v1/users/me/coach",
        "description": "Update current user's linked coach profile. Requires authentication and linked coach record.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Coach updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Coach"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "No linked coach record found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me/image": {
      "post": {
        "tags": ["Users"],
        "summary": "POST /api/v1/users/me/image",
        "description": "Upload user profile image. Requires authentication.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["public_id", "secure_url"],
                "properties": {
                  "public_id": {
                    "type": "string",
                    "description": "Cloudinary public ID"
                  },
                  "secure_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "Cloudinary secure URL"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing public_id or secure_url",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/training-sessions": {
      "get": {
        "tags": ["Training Sessions"],
        "summary": "GET /api/v1/training-sessions",
        "description": "Get list of training sessions with filtering and pagination. Requires authentication.",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query for session name",
            "required": false,
            "schema": {
              "type": "string",
              "maxLength": 20
            }
          },
          {
            "name": "intensity",
            "in": "query",
            "description": "Filter by intensity",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["high", "normal", "low", "all"]
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "Filter by session type",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "singles",
                "men_doubles",
                "women_doubles",
                "mixed_doubles",
                "solo",
                "relay"
              ]
            }
          },
          {
            "name": "dateFrom",
            "in": "query",
            "description": "Filter from date",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "dateTo",
            "in": "query",
            "description": "Filter to date",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "ageGroup",
            "in": "query",
            "description": "Filter by age group",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "mini",
                "U-09",
                "U-11",
                "U-13",
                "U-15",
                "U-17",
                "U-19",
                "U-21",
                "Seniors"
              ]
            }
          },
          {
            "name": "organizationId",
            "in": "query",
            "description": "Filter by organization ID (system admin only, use 'null' for global sessions)",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sort field",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["name", "intensity", "date", "createdAt", "updatedAt"]
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"],
              "default": "desc"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "10"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of training sessions with pagination and stats",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrainingSessionsPaginatedResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Training Sessions"],
        "summary": "POST /api/v1/training-sessions",
        "description": "Create a new training session. Only system admins, org admins, org owners, and org coaches can create training sessions.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrainingSessionCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Training session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/TrainingSession"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "coaches": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Coach"
                          }
                        },
                        "attendanceRecordsCreated": {
                          "type": "integer",
                          "description": "Number of attendance records auto-created"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/training-sessions/{id}": {
      "get": {
        "tags": ["Training Sessions"],
        "summary": "GET /api/v1/training-sessions/{id}",
        "description": "Get training session by ID with coaches. Requires authentication.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Training session details with coaches",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/TrainingSession"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "organizationName": {
                          "type": "string",
                          "nullable": true
                        },
                        "coaches": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Coach"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Training session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Training Sessions"],
        "summary": "PATCH /api/v1/training-sessions/{id}",
        "description": "Update training session. Only system admins, org admins, org owners, and org coaches can update training sessions.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrainingSessionUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Training session updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/TrainingSession"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "coaches": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Coach"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Training session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Training Sessions"],
        "summary": "DELETE /api/v1/training-sessions/{id}",
        "description": "Delete training session. Only system admins, org admins, and org owners can delete training sessions.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Training session deleted successfully"
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Training session not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/training-sessions/{id}/attendance": {
      "get": {
        "tags": ["Training Sessions"],
        "summary": "GET /api/v1/training-sessions/{id}/attendance",
        "description": "Get all attendance records for a training session. Requires authentication.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of attendance records",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttendanceRecord"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Training Sessions"],
        "summary": "POST /api/v1/training-sessions/{id}/attendance",
        "description": "Create or update attendance record for a training session. Only system admins, org admins, org owners, and org coaches can modify attendance.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["playerId"],
                "properties": {
                  "playerId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "present",
                      "late",
                      "absent_excused",
                      "absent_unexcused",
                      "suspended"
                    ],
                    "default": "pending"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Attendance record created/updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttendanceRecord"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body or validation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/training-sessions/{id}/attendance/bulk": {
      "patch": {
        "tags": ["Training Sessions"],
        "summary": "PATCH /api/v1/training-sessions/{id}/attendance/bulk",
        "description": "Bulk update attendance records. Only system admins, org admins, org owners, and org coaches can modify attendance.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["updates"],
                "properties": {
                  "updates": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "object",
                      "required": ["playerId", "status"],
                      "properties": {
                        "playerId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "present",
                            "late",
                            "absent_excused",
                            "absent_unexcused",
                            "suspended"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Attendance records updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AttendanceRecord"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Training Sessions"],
        "summary": "DELETE /api/v1/training-sessions/{id}/attendance/bulk",
        "description": "Bulk delete attendance records. Only system admins, org admins, org owners, and org coaches can delete attendance.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["playerIds"],
                "properties": {
                  "playerIds": {
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "string",
                      "format": "uuid"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Attendance records deleted successfully"
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/events": {
      "get": {
        "tags": ["Events"],
        "summary": "GET /api/v1/events",
        "description": "Get list of events with filtering and pagination",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query for event name",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "eventType",
            "in": "query",
            "description": "Filter by event type",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["singles", "doubles"]
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "Filter by gender",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["male", "female", "mixed"]
            }
          },
          {
            "name": "visibility",
            "in": "query",
            "description": "Filter by visibility",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["public", "private"]
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sort field",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "eventType",
                "gender",
                "completed",
                "createdAt",
                "updatedAt",
                "registrationStartDate",
                "registrationsCount",
                "lastMatchPlayedDate"
              ]
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "10"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of events with pagination",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "name": {
                            "type": "string"
                          },
                          "eventType": {
                            "type": "string",
                            "enum": ["singles", "doubles"]
                          },
                          "gender": {
                            "type": "string",
                            "enum": ["male", "female", "mixed"]
                          },
                          "groupMode": {
                            "type": "string",
                            "enum": ["single", "multiple"]
                          },
                          "visibility": {
                            "type": "string",
                            "enum": ["public", "private"]
                          },
                          "registrationsCount": {
                            "type": "integer"
                          },
                          "lastMatchPlayedDate": {
                            "type": "string",
                            "format": "date",
                            "nullable": true
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "totalItems": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid query parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Events"],
        "summary": "POST /api/v1/events",
        "description": "Create a new event (Admin only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "eventType", "gender"],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "eventType": {
                    "type": "string",
                    "enum": ["singles", "doubles"]
                  },
                  "gender": {
                    "type": "string",
                    "enum": ["male", "female", "mixed"]
                  },
                  "groupMode": {
                    "type": "string",
                    "enum": ["single", "multiple"]
                  },
                  "visibility": {
                    "type": "string",
                    "enum": ["public", "private"]
                  },
                  "bestOf": {
                    "type": "integer"
                  },
                  "pointsPerWin": {
                    "type": "integer"
                  },
                  "pointsPerLoss": {
                    "type": "integer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Event created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "name": {
                      "type": "string"
                    },
                    "eventType": {
                      "type": "string"
                    },
                    "gender": {
                      "type": "string"
                    },
                    "groupMode": {
                      "type": "string"
                    },
                    "visibility": {
                      "type": "string"
                    },
                    "bestOf": {
                      "type": "integer"
                    },
                    "pointsPerWin": {
                      "type": "integer"
                    },
                    "pointsPerLoss": {
                      "type": "integer"
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Admin access required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/events/{id}": {
      "get": {
        "tags": ["Events"],
        "summary": "GET /api/v1/events/{id}",
        "description": "Get event by ID with related data",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Event details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "name": {
                      "type": "string"
                    },
                    "eventType": {
                      "type": "string"
                    },
                    "gender": {
                      "type": "string"
                    },
                    "groups": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "registrations": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "matches": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Event not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Events"],
        "summary": "PATCH /api/v1/events/{id}",
        "description": "Update event (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Event updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Events"],
        "summary": "DELETE /api/v1/events/{id}",
        "description": "Delete event (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Event deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Event not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/players": {
      "get": {
        "tags": ["Players"],
        "summary": "GET /api/v1/players",
        "description": "Get list of players with filtering and pagination",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query for player name",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "Filter by gender",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["male", "female", "all"]
            }
          },
          {
            "name": "ageGroup",
            "in": "query",
            "description": "Filter by age group",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "mini",
                "U-09",
                "U-11",
                "U-13",
                "U-15",
                "U-17",
                "U-19",
                "U-21",
                "Seniors",
                "all"
              ]
            }
          },
          {
            "name": "preferredHand",
            "in": "query",
            "description": "Filter by preferred hand",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["left", "right", "both"]
            }
          },
          {
            "name": "team",
            "in": "query",
            "description": "Filter by team level",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["all", "team_a", "team_b", "team_c"]
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sort field",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "name",
                "nameRtl",
                "dateOfBirth",
                "createdAt",
                "updatedAt",
                "gender",
                "preferredHand",
                "teamLevel",
                "organizationId"
              ]
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "10"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of players with pagination and stats",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Player"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "totalItems": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    },
                    "stats": {
                      "type": "object",
                      "properties": {
                        "maleCount": {
                          "type": "integer"
                        },
                        "femaleCount": {
                          "type": "integer"
                        },
                        "ageGroupsCount": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Players"],
        "summary": "POST /api/v1/players",
        "description": "Create a new player (Admin only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "dateOfBirth", "gender", "preferredHand"],
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 255
                  },
                  "dateOfBirth": {
                    "type": "string",
                    "format": "date"
                  },
                  "gender": {
                    "type": "string",
                    "enum": ["male", "female"]
                  },
                  "preferredHand": {
                    "type": "string",
                    "enum": ["left", "right", "both"]
                  },
                  "teamLevel": {
                    "type": "string",
                    "enum": ["team_a", "team_b", "team_c"]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Player created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Player"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/players/{id}": {
      "get": {
        "tags": ["Players"],
        "summary": "GET /api/v1/players/{id}",
        "description": "Get player by ID with test results",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Player details with test results",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Player"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "testResults": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Player not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Players"],
        "summary": "PATCH /api/v1/players/{id}",
        "description": "Update player (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Player updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Player"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Players"],
        "summary": "DELETE /api/v1/players/{id}",
        "description": "Delete player (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Player deleted successfully"
          },
          "404": {
            "description": "Player not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/players/{id}/matches": {
      "get": {
        "tags": ["Players"],
        "summary": "GET /api/v1/players/{id}/matches",
        "description": "Get player's match history",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "5"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Player's match history",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "pagination": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/matches": {
      "get": {
        "tags": ["Matches"],
        "summary": "GET /api/v1/matches",
        "description": "Get list of matches with filtering",
        "parameters": [
          {
            "name": "eventId",
            "in": "query",
            "description": "Filter by event ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "groupId",
            "in": "query",
            "description": "Filter by group ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "round",
            "in": "query",
            "description": "Filter by round number",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of matches",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "matches": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/matches/{id}": {
      "get": {
        "tags": ["Matches"],
        "summary": "GET /api/v1/matches/{id}",
        "description": "Get match by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Match details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "eventId": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "sets": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "bestOf": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Matches"],
        "summary": "PATCH /api/v1/matches/{id}",
        "description": "Update match (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "played": {
                    "type": "boolean"
                  },
                  "winnerId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true
                  },
                  "matchDate": {
                    "type": "string",
                    "format": "date",
                    "nullable": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Match updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/groups": {
      "get": {
        "tags": ["Groups"],
        "summary": "GET /api/v1/groups",
        "description": "Get list of groups",
        "parameters": [
          {
            "name": "eventId",
            "in": "query",
            "description": "Filter by event ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of groups",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "groups": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "eventId": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "name": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Groups"],
        "summary": "POST /api/v1/groups",
        "description": "Create a new group and generate matches (Admin only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Group created and matches generated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "group": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/groups/{id}": {
      "delete": {
        "tags": ["Groups"],
        "summary": "DELETE /api/v1/groups/{id}",
        "description": "Delete group (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Group deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/registrations": {
      "get": {
        "tags": ["Registrations"],
        "summary": "GET /api/v1/registrations",
        "description": "Get list of registrations",
        "parameters": [
          {
            "name": "eventId",
            "in": "query",
            "description": "Filter by event ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "groupId",
            "in": "query",
            "description": "Filter by group ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of registrations",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "registrations": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Registrations"],
        "summary": "POST /api/v1/registrations",
        "description": "Create a new registration (Admin only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Registration created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/registrations/{id}": {
      "patch": {
        "tags": ["Registrations"],
        "summary": "PATCH /api/v1/registrations/{id}",
        "description": "Update registration (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Registration updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Registrations"],
        "summary": "DELETE /api/v1/registrations/{id}",
        "description": "Delete registration (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Registration deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/results": {
      "get": {
        "tags": ["Results"],
        "summary": "GET /api/v1/results",
        "description": "Get list of test results with filtering and pagination",
        "parameters": [
          {
            "name": "playerId",
            "in": "query",
            "description": "Filter by player ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "testId",
            "in": "query",
            "description": "Filter by test ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "q",
            "in": "query",
            "description": "Search query for player name",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "gender",
            "in": "query",
            "description": "Filter by gender",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["male", "female", "all"]
            }
          },
          {
            "name": "ageGroup",
            "in": "query",
            "description": "Filter by age group",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "mini",
                "U-09",
                "U-11",
                "U-13",
                "U-15",
                "U-17",
                "U-19",
                "U-21",
                "Seniors",
                "all"
              ]
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sort field",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "totalScore",
                "leftHandScore",
                "rightHandScore",
                "forehandScore",
                "backhandScore",
                "playerName",
                "ageGroup",
                "age",
                "createdAt"
              ]
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order",
            "required": false,
            "schema": {
              "type": "string",
              "enum": ["asc", "desc"]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "10"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of test results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "pagination": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Results"],
        "summary": "POST /api/v1/results",
        "description": "Create a new test result (Admin only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Result created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/results/{id}": {
      "get": {
        "tags": ["Results"],
        "summary": "GET /api/v1/results/{id}",
        "description": "Get result by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Result details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Results"],
        "summary": "PATCH /api/v1/results/{id}",
        "description": "Update result (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Result updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Results"],
        "summary": "DELETE /api/v1/results/{id}",
        "description": "Delete result (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Result deleted successfully"
          }
        }
      }
    },
    "/api/v1/sets": {
      "get": {
        "tags": ["Sets"],
        "summary": "GET /api/v1/sets",
        "description": "Get list of sets",
        "parameters": [
          {
            "name": "matchId",
            "in": "query",
            "description": "Filter by match ID",
            "required": false,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of sets",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sets": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Sets"],
        "summary": "POST /api/v1/sets",
        "description": "Create a new set (Admin only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "matchId",
                  "setNumber",
                  "registration1Score",
                  "registration2Score"
                ],
                "properties": {
                  "matchId": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "setNumber": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "registration1Score": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "registration2Score": {
                    "type": "integer",
                    "minimum": 0
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Set created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sets/{id}": {
      "patch": {
        "tags": ["Sets"],
        "summary": "PATCH /api/v1/sets/{id}",
        "description": "Update set (Admin only, cannot edit played sets)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Set updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "Cannot edit a set that is already marked as played",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Sets"],
        "summary": "DELETE /api/v1/sets/{id}",
        "description": "Delete set (Admin only, cannot delete played sets)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Set deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sets/{id}/played": {
      "patch": {
        "tags": ["Sets"],
        "summary": "PATCH /api/v1/sets/{id}/played",
        "description": "Mark set as played (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Set marked as played",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "set": {
                      "type": "object"
                    },
                    "matchCompleted": {
                      "type": "boolean"
                    },
                    "winnerId": {
                      "type": "string",
                      "format": "uuid",
                      "nullable": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tests": {
      "get": {
        "tags": ["Tests"],
        "summary": "GET /api/v1/tests",
        "description": "Get list of tests with filtering and pagination",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "description": "Search query for test name",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "playingTime",
            "in": "query",
            "description": "Filter by playing time (minutes)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "recoveryTime",
            "in": "query",
            "description": "Filter by recovery time (minutes)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "dateFrom",
            "in": "query",
            "description": "Filter from date",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "dateTo",
            "in": "query",
            "description": "Filter to date",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "required": false,
            "schema": {
              "type": "string",
              "default": "1"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Items per page",
            "required": false,
            "schema": {
              "type": "string",
              "default": "10"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of tests",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "name": {
                            "type": "string"
                          },
                          "playingTime": {
                            "type": "integer"
                          },
                          "recoveryTime": {
                            "type": "integer"
                          },
                          "dateConducted": {
                            "type": "string",
                            "format": "date"
                          },
                          "totalTime": {
                            "type": "integer"
                          },
                          "status": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Tests"],
        "summary": "POST /api/v1/tests",
        "description": "Create a new test (Admin only)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Test created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tests/{id}": {
      "get": {
        "tags": ["Tests"],
        "summary": "GET /api/v1/tests/{id}",
        "description": "Get test by ID with results",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Test details with results",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "name": {
                      "type": "string"
                    },
                    "testResults": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Tests"],
        "summary": "PATCH /api/v1/tests/{id}",
        "description": "Update test (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Test updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Tests"],
        "summary": "DELETE /api/v1/tests/{id}",
        "description": "Delete test (Admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Test deleted successfully"
          }
        }
      }
    },
    "/api/v1/training-sessions/{id}/attendance/{playerId}": {
      "get": {
        "tags": ["Training Sessions"],
        "summary": "GET /api/v1/training-sessions/{id}/attendance/{playerId}",
        "description": "Get attendance record for a specific player in a training session. Requires authentication.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "playerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Attendance record",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttendanceRecord"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Attendance record not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": ["Training Sessions"],
        "summary": "PATCH /api/v1/training-sessions/{id}/attendance/{playerId}",
        "description": "Update attendance record for a specific player. Only system admins, org admins, org owners, and org coaches can modify attendance.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "playerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["status"],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "present",
                      "late",
                      "absent_excused",
                      "absent_unexcused",
                      "suspended"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Attendance record updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AttendanceRecord"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request body",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Attendance record not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Training Sessions"],
        "summary": "DELETE /api/v1/training-sessions/{id}/attendance/{playerId}",
        "description": "Delete attendance record for a specific player. Only system admins, org admins, org owners, and org coaches can delete attendance.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "playerId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Attendance record deleted successfully"
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Attendance record not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "emailVerified": {
            "type": "boolean"
          },
          "image": {
            "type": "string",
            "nullable": true
          },
          "role": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Session": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time"
          },
          "token": {
            "type": "string"
          },
          "ipAddress": {
            "type": "string",
            "nullable": true
          },
          "userAgent": {
            "type": "string",
            "nullable": true
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "Coach": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "nameRtl": {
            "type": "string",
            "nullable": true
          },
          "gender": {
            "type": "string",
            "enum": ["male", "female"]
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "organizationName": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CoachCreate": {
        "type": "object",
        "required": ["name", "gender"],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 255
          },
          "nameRtl": {
            "type": "string",
            "maxLength": 255,
            "nullable": true
          },
          "gender": {
            "type": "string",
            "enum": ["male", "female"]
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        }
      },
      "CoachUpdate": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 255
          },
          "nameRtl": {
            "type": "string",
            "maxLength": 255,
            "nullable": true
          },
          "gender": {
            "type": "string",
            "enum": ["male", "female"]
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          }
        }
      },
      "CoachesPaginatedResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Coach"
            }
          },
          "page": {
            "type": "integer"
          },
          "limit": {
            "type": "integer"
          },
          "totalItems": {
            "type": "integer"
          },
          "totalPages": {
            "type": "integer"
          },
          "stats": {
            "type": "object",
            "properties": {
              "maleCount": {
                "type": "integer"
              },
              "femaleCount": {
                "type": "integer"
              }
            }
          }
        }
      },
      "Organization": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "logo": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "OrganizationCreate": {
        "type": "object",
        "required": ["name", "slug"],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 255
          },
          "slug": {
            "type": "string",
            "minLength": 1,
            "maxLength": 255,
            "pattern": "^[a-z0-9-]+$"
          },
          "members": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["userId", "role"],
              "properties": {
                "userId": {
                  "type": "string",
                  "format": "uuid"
                },
                "role": {
                  "type": "string",
                  "enum": ["owner", "admin", "coach", "member", "player"]
                }
              }
            },
            "default": []
          }
        }
      },
      "Member": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "role": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "UsersPaginatedResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/User"
                },
                {
                  "type": "object",
                  "properties": {
                    "organization": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "name": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        }
                      }
                    },
                    "isInMyOrganization": {
                      "type": "boolean"
                    }
                  }
                }
              ]
            }
          },
          "page": {
            "type": "integer"
          },
          "limit": {
            "type": "integer"
          },
          "totalItems": {
            "type": "integer"
          },
          "totalPages": {
            "type": "integer"
          }
        }
      },
      "Player": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date"
          },
          "gender": {
            "type": "string",
            "enum": ["male", "female"]
          },
          "preferredHand": {
            "type": "string",
            "enum": ["left", "right", "both"]
          },
          "teamLevel": {
            "type": "string",
            "enum": ["team_a", "team_b", "team_c"],
            "description": "Team level (Team A, Team B, or Team C)"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "age": {
            "type": "integer"
          },
          "ageGroup": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TrainingSession": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "name": {
            "type": "string"
          },
          "intensity": {
            "type": "string",
            "enum": ["high", "normal", "low"]
          },
          "type": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "singles",
                "men_doubles",
                "women_doubles",
                "mixed_doubles",
                "solo",
                "relay"
              ]
            }
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "ageGroups": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "mini",
                "U-09",
                "U-11",
                "U-13",
                "U-15",
                "U-17",
                "U-19",
                "U-21",
                "Seniors"
              ]
            }
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "organizationName": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "TrainingSessionCreate": {
        "type": "object",
        "required": ["type", "date", "ageGroups", "coachIds"],
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "intensity": {
            "type": "string",
            "enum": ["high", "normal", "low"],
            "default": "normal"
          },
          "type": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "singles",
                "men_doubles",
                "women_doubles",
                "mixed_doubles",
                "solo",
                "relay"
              ]
            },
            "minItems": 1
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "description": {
            "type": "string"
          },
          "ageGroups": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "mini",
                "U-09",
                "U-11",
                "U-13",
                "U-15",
                "U-17",
                "U-19",
                "U-21",
                "Seniors"
              ]
            },
            "minItems": 1
          },
          "coachIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "minItems": 1,
            "description": "At least one coach is required"
          },
          "organizationId": {
            "type": "string",
            "format": "uuid",
            "nullable": true
          },
          "teamLevels": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["team_a", "team_b", "team_c"]
            },
            "description": "Array of team levels to filter players by when auto-creating attendance. Empty or omitted means all team levels."
          },
          "autoCreateAttendance": {
            "type": "boolean",
            "default": false,
            "description": "Automatically create attendance records with 'pending' status for matching players"
          }
        }
      },
      "TrainingSessionUpdate": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 255
          },
          "intensity": {
            "type": "string",
            "enum": ["high", "normal", "low"]
          },
          "type": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "singles",
                "men_doubles",
                "women_doubles",
                "mixed_doubles",
                "solo",
                "relay"
              ]
            }
          },
          "date": {
            "type": "string",
            "format": "date"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "ageGroups": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "mini",
                "U-09",
                "U-11",
                "U-13",
                "U-15",
                "U-17",
                "U-19",
                "U-21",
                "Seniors"
              ]
            }
          },
          "coachIds": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "minItems": 1,
            "description": "If provided, must have at least one coach"
          }
        }
      },
      "TrainingSessionsPaginatedResponse": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/TrainingSession"
                },
                {
                  "type": "object",
                  "properties": {
                    "coaches": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Coach"
                      }
                    }
                  }
                }
              ]
            }
          },
          "page": {
            "type": "integer"
          },
          "limit": {
            "type": "integer"
          },
          "totalItems": {
            "type": "integer"
          },
          "totalPages": {
            "type": "integer"
          },
          "stats": {
            "type": "object",
            "properties": {
              "totalCount": {
                "type": "integer"
              },
              "highIntensityCount": {
                "type": "integer"
              },
              "normalIntensityCount": {
                "type": "integer"
              },
              "lowIntensityCount": {
                "type": "integer"
              }
            }
          }
        }
      },
      "AttendanceRecord": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "playerId": {
            "type": "string",
            "format": "uuid"
          },
          "trainingSessionId": {
            "type": "string",
            "format": "uuid"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "present",
              "late",
              "absent_excused",
              "absent_unexcused",
              "suspended"
            ]
          },
          "player": {
            "$ref": "#/components/schemas/Player"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "error": {
            "type": "object",
            "properties": {
              "code": {
                "type": "string"
              },
              "message": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "securitySchemes": {}
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Development Environment"
    },
    {
      "url": "https://rowad.speedballhub.com",
      "description": "Production Environment"
    }
  ],
  "security": []
}
